<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Sissymax</title>

  <link rel="shortcut icon" href="assets/favicon.ico" type="image/x-icon">

  <!-- Blueimp Gallery -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/blueimp-gallery/2.29.0/css/blueimp-gallery.min.css">

  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">

  <!-- Tus estilos -->
  <link rel="stylesheet" href="styles.css">

  <!-- JS libs -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/blueimp-gallery/2.29.0/js/blueimp-gallery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.0.7/howler.min.js"></script>
</head>

<body>

<div class="container-fluid text-center">

  <!-- BANNER -->
  <div id="banner">
    <div id="banner-left">
      <img src="assets/logo.png" alt="Logo de Sissymax" id="banner-logo">
      <h1 id="banner-title">Sissymax</h1>
    </div>
  </div>

  

  <!-- AJUSTES -->
  <div id="settings">
    <form class="form-horizontal" autocomplete="off">

      <!-- Carpeta -->
      <div class="form-group">
        <label class="btn btn-primary" for="folder-input">Subir carpeta</label>
        <input type="file" id="folder-input" webkitdirectory multiple style="display:none;">
        <div>
          <span id="file-count" style="color:#EDEDED;">0 archivos cargados</span>
        </div>
      </div>

      <!-- BPM -->
      <div class="form-group">
        <label for="beats-input">BPM:</label>
        <input class="form-control" id="beats-input" type="number">
      </div>

      <!-- NEXT -->
      <div class="form-group">
        <label for="next-input">Golpes por imagen:</label>
        <input class="form-control" id="next-input" type="number">
      </div>

      <!-- MANTRA -->
      <textarea class="form-control" id="mantra-input" rows="3" placeholder="Escribe tu mantra"></textarea>
      <br>


      <!-- START -->
      <div class="form-group d-flex justify-content-center">
        <button id="start-button" type="button" class="btn btn-primary btn-lg">
          Iniciar
        </button>
      </div>


    </form>
  </div>
</div>

<!-- MANTRA DISPLAY -->
<div id="mantra-display" class="text-center"></div>

<!-- GALERÃA -->
<div id="blueimp-gallery" class="blueimp-gallery blueimp-gallery-controls">
  <div class="slides"></div>
  <a class="prev">â€¹</a>
  <a class="next">â€º</a>
  <a class="close">Ã—</a>
  <ol class="indicator"></ol>
</div>


<!-- FOOTER -->
<footer id="footer" class="text-center" style="margin-top:60px; padding-bottom:40px;">

  <h5>Enlaces</h5>

  <!-- Enlace al final -->
  <p style="text-align:center; margin-top:10px;">
    <a href="#" id="open-guide-link"
       style="color:#bb86fc; text-decoration:underline; font-weight:bold;">
      ðŸ“– GuÃ­a de Uso
    </a>
    &nbsp;|&nbsp;
    <a href="#" id="open-privacy-link"
       style="color:#bb86fc; text-decoration:underline; font-weight:bold;">
      ðŸ”’ PolÃ­tica de Privacidad
    </a>
  </p>


  <!-- MODAL -->
  <div id="guide-modal"
       style="
         display:none;
         position:fixed;
         inset:0;
         background:rgba(0,0,0,0.85);
         z-index:10000;
       ">

    <div id="guide-content"
         style="
           background:#1e1e1e;
           color:#e0e0e0;

           max-width:900px;
           height:90vh;
           margin:5vh auto;

           padding:30px;
           border-radius:12px;
           box-shadow:0 8px 25px rgba(0,0,0,0.6);

           overflow-y:auto;
           position:relative;
         ">

      <span id="close-guide"
            style="
              position:absolute;
              top:15px;
              right:20px;
              font-size:28px;
              font-weight:bold;
              cursor:pointer;
              color:#bb86fc;
            ">&times;</span>

      <!-- AQUÃ SE INYECTA GUÃA O PRIVACIDAD -->
      <div id="modal-inner-content"></div>

    </div>
  </div>

</footer>


<!-- SCRIPT -->
<script>
  const modal = document.getElementById('guide-modal');
  const inner = document.getElementById('modal-inner-content');

  const openGuide = document.getElementById('open-guide-link');
  const openPrivacy = document.getElementById('open-privacy-link');
  const closeBtn = document.getElementById('close-guide');

  function openModal(url) {
    modal.style.display = 'block';
    document.body.style.overflow = 'hidden';
    inner.innerHTML = '<p>Cargandoâ€¦</p>';

    fetch(url)
      .then(r => r.text())
      .then(html => {
        inner.innerHTML = html;
      })
      .catch(() => {
        inner.innerHTML = '<p>Error al cargar el contenido.</p>';
      });
  }

  function closeModal() {
    modal.style.display = 'none';
    document.body.style.overflow = '';
    inner.innerHTML = '';
  }

  openGuide.addEventListener('click', (e) => {
    e.preventDefault();
    openModal('documents/guia.html');
  });

  openPrivacy.addEventListener('click', (e) => {
    e.preventDefault();
    openModal('documents/privacy.html');
  });

  closeBtn.addEventListener('click', closeModal);

  modal.addEventListener('click', (e) => {
    if (e.target === modal) closeModal();
  });
</script>


<!-- JS -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="script.js"></script>

</body>
</html>
